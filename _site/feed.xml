<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sahil Tyagi</title>
    <description>A simple, beautiful theme for Jekyll that emphasizes content rather than aesthetic fluff.</description>
    <link>//</link>
    <atom:link href="//feed.xml" rel="self" type="application/rss+xml" />
    
      <item>
        <title>Apache Maven setup and installation</title>
        <description>&lt;p&gt;Apache Maven is an open source build automation tool based on the concept of project object model (POM). Maven addresses two aspects of building software: first, it describes how software is built, and second, it describes its dependencies. An XML file named pom.xml describes the software project being built, its dependencies on other external modules and components, the build order, directories, and required plug-ins. Following are the steps to install and setup apache Maven in a :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Download the maven tar.gz file with the following command:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  # wget http://mirror.fibergrid.in/apache/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Untar the downloaded file as:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  # tar -xzvf apache-maven-3.3.9-bin.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the environment variable value:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  echo $JAVA_HOME
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the path of apache maven &lt;b&gt;bin&lt;/b&gt; directory to PATH:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  export PATH=/apache-maven-3.3.9/bin:$PATH
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;And you have installed Apache Maven on your system!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the version of maven installed with the command &lt;b&gt;mvn -v&lt;/b&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 07 Aug 2016 06:00:17 +0530</pubDate>
        <link>//apache/maven/2016/08/07/Apache-Maven/</link>
        <guid isPermaLink="true">//apache/maven/2016/08/07/Apache-Maven/</guid>
      </item>
    
      <item>
        <title>Nginx setup and Installation</title>
        <description>&lt;p&gt;This post describes how to setup and install Nginx version 1.4.7 on an Ubuntu machine. Nginx is used as a standalone web server or as a reverse proxy. Nginx was originally developed to solve the problem of serving 10,000 concurrent connections. As a reverse proxy, Nginx acts as a front web server which passes the incoming requests on to web servers on the backend. This web server can handle SSL/HTTPS, GZip, load balancing, etc.
So following are the steps to install nginx on a linux environment:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Check if you have any version of nginx installed on your system with &lt;b&gt;nginx -v&lt;/b&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Download the tar.gz file for nginx:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  # wget http://nginx.org/download/nginx-1.4.7.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Before installing Nginx, we need PCRE library. Following are the steps for it:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # apt-get update
  # apt-get install libpcre3 libpcre3-dev
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Zlib package is required as well.&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # apt-get install libgcrypt11-dev zlib1g-dev
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install &lt;b&gt;make&lt;/b&gt; as well.&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # apt-get install make
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Since all the dependencies have now been installed, we can finally proceed to installing and setting up nginx!&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # tar -xvzf nginx-1.4.7.tar.gz
  # cd nginx-1.4.7
  # ./configure --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --conf-path=/etc/nginx/nginx.conf --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock
  # make
  # make install
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create a new dedicated user to run nginx:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # adduser --system --no-create-home --disabled-login --disabled-password --group nginx
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Lastly, we need to make Nginx a service, for which we need to add an nginx script to &lt;b&gt;/etc/init.d&lt;/b&gt;. Let us name the script &lt;b&gt;nginx&lt;/b&gt;:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Provides:          nginx&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Required-Start:    $network $remote_fs $local_fs &lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Required-Stop:     $network $remote_fs $local_fs&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Default-Start:     2 3 4 5&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Default-Stop:      0 1 6&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# Short-Description: Stop/start nginx&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sbin:/usr/sbin:/bin:/usr/bin
  &lt;span class=&quot;nv&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nginx
  &lt;span class=&quot;nv&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nginx
  &lt;span class=&quot;nv&quot;&gt;CONFFILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc/nginx/nginx.conf
  &lt;span class=&quot;nv&quot;&gt;DAEMON&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/sbin/nginx
  &lt;span class=&quot;nv&quot;&gt;PIDFILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/run/&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;.pid
  &lt;span class=&quot;nv&quot;&gt;SCRIPTNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc/init.d/&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;SLEEPSEC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
  &lt;span class=&quot;nv&quot;&gt;UPGRADEWAITLOOPS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5

  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -x &lt;span class=&quot;nv&quot;&gt;$DAEMON&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0

  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -r /etc/default/&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; . /etc/default/&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;DAEMON_ARGS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-c &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$CONFFILE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DAEMON_ARGS&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

  . /lib/init/vars.sh

  . /lib/lsb/init-functions

  do_start&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  		start-stop-daemon --start --quiet --pidfile &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt; --exec &lt;span class=&quot;nv&quot;&gt;$DAEMON&lt;/span&gt; -- &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$DAEMON_ARGS&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  do_stop&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;# Return&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;#   0 if daemon has been stopped&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;#   1 if daemon was already stopped&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;#   2 if daemon could not be stopped&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;#   other if a failure occurred&lt;/span&gt;
  		start-stop-daemon --stop --quiet --retry&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;TERM/30/KILL/5 --pidfile &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt; --name &lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  		rm -f &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  do_reload&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; 
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
  		start-stop-daemon --stop --signal HUP --quiet --pidfile &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt; --name &lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  do_configtest&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; 
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$#&quot;&lt;/span&gt; -ne 0 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
  	case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
      -q&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;nv&quot;&gt;FLAG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
  	&lt;span class=&quot;nb&quot;&gt;shift
  		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;$DAEMON&lt;/span&gt; -t &lt;span class=&quot;nv&quot;&gt;$FLAG&lt;/span&gt; -c &lt;span class=&quot;nv&quot;&gt;$CONFFILE&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  do_upgrade&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; 
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
 			&lt;span class=&quot;nv&quot;&gt;OLDBINPIDFILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt;.oldbin
  		do_configtest -q &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;6
  		start-stop-daemon --stop --signal USR2 --quiet --pidfile &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt; --name &lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;
  		&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;i &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/usr/bin/seq  &lt;span class=&quot;nv&quot;&gt;$UPGRADEWAITLOOPS&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;do
  		&lt;/span&gt;sleep &lt;span class=&quot;nv&quot;&gt;$SLEEPSEC&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f &lt;span class=&quot;nv&quot;&gt;$OLDBINPIDFILE&lt;/span&gt; -a -f &lt;span class=&quot;nv&quot;&gt;$PIDFILE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
      	&lt;/span&gt;start-stop-daemon --stop --signal QUIT --quiet --pidfile &lt;span class=&quot;nv&quot;&gt;$OLDBINPIDFILE&lt;/span&gt; --name &lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;
      	&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
      	&lt;span class=&quot;k&quot;&gt;return
  	fi
  		done
  			&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;$&quot;Upgrade failed!&quot;&lt;/span&gt;
  			&lt;span class=&quot;nv&quot;&gt;RETVAL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
  			&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  	&lt;/span&gt;start&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_daemon_msg &lt;span class=&quot;s2&quot;&gt;&quot;Starting &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DESC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  	do_start
  	&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
      	&lt;/span&gt;0|1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_end_msg 0 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
      	2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_end_msg 1 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	stop&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_daemon_msg &lt;span class=&quot;s2&quot;&gt;&quot;Stopping &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DESC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  	do_stop
  	&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
      	&lt;/span&gt;0|1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_end_msg 0 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
      	2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VERBOSE&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; no &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; log_end_msg 1 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
	status&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	status_of_proc &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DAEMON&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0 &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
	configtest&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	do_configtest
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
	upgrade&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	do_upgrade
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
	reload|force-reload&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	log_daemon_msg &lt;span class=&quot;s2&quot;&gt;&quot;Reloading &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DESC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  	do_reload
  	log_end_msg &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
	restart|force-reload&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	log_daemon_msg &lt;span class=&quot;s2&quot;&gt;&quot;Restarting &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DESC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  	do_configtest -q &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;
  	do_stop
  	&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
      	&lt;/span&gt;0|1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          	do_start
          	&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
              	&lt;/span&gt;0&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; log_end_msg 0 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
              	1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; log_end_msg 1 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Old process is still running&lt;/span&gt;
              	&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; log_end_msg 1 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Failed to start&lt;/span&gt;
         		&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
          	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
      	&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;c&quot;&gt;# Failed to stop&lt;/span&gt;
          log_end_msg 1
          &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  	&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Usage: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$SCRIPTNAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; {start|stop|status|restart|reload|force-reload|upgrade|configtest}&quot;&lt;/span&gt; &amp;gt;&amp;amp;2
  	&lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;3
  	&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$RETVAL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Now make the file executable:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # chmod +x /etc/init.d/nginx
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;And finally:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  # /usr/sbin/update-rc.d -f nginx defaults
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;And that’s it! We have installed Nginx on our linux machine, and we can start nginx woth the command &lt;b&gt;nginx start&lt;/b&gt;. Cheers!&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 04 Aug 2016 00:26:37 +0530</pubDate>
        <link>//nginx/load-balancer/2016/08/04/Nginx/</link>
        <guid isPermaLink="true">//nginx/load-balancer/2016/08/04/Nginx/</guid>
      </item>
    
      <item>
        <title>Apache Spark-2.0.0 setup and Installation</title>
        <description>&lt;p&gt;This post describes on how to setup the latest version of Apache Spark v2.0.0 on an Ubuntu machine. Apache Spark is an execution engine that supports cyclic data flow and performs distributed in-memory computing. Spark has been demonstrated to be around 100x faster than Hadoop in memory and around 10x faster on disk. Various APIs are available for writing application in Java, Scala, Python and R. Spark is not just limited to batch processing, but also provides real-time streaming, combines SQL, a machine learning library (MLlib) and other complex analytics. And it also runs on various tools and platforms as well, including Hadoop (HDFS), Mesos, standalone or on cloud.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Please make sure you have Apache Maven installed and configured on your system!&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;So let’s get started with the installation!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Create a new directory in &lt;b&gt;/home/spark&lt;/b&gt;, and move into that directory&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  mkdir /home/spark
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  cd /home/spark
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Download the latest spark v2.0.0 tar.gz file with the following command:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  wget http://d3kbcqa49mib13.cloudfront.net/spark-2.0.0-bin-hadoop2.7.tgz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;This will create the file &lt;b&gt;spark-2.0.0-bin-hadoop2.7.tgz&lt;/b&gt; in the current directory. Now untar the compressed file as:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  tar -xzvf spark-2.0.0-bin-hadoop2.7.tgz
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;This will create the file &lt;b&gt;spark-2.0.0-bin-hadoop2.7&lt;/b&gt; in the the directory.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Now build the spark project with maven as:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  mvn -Pyarn -Phadoop-2.4 -Dhadoop.version=2.4.0 -DskipTests clean package
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;If the above step completes successfully, then you have installed spark on your system. Congratulations!&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 29 Jul 2016 16:51:29 +0530</pubDate>
        <link>//spark/rdds/datasets/2016/07/29/Spark_installation/</link>
        <guid isPermaLink="true">//spark/rdds/datasets/2016/07/29/Spark_installation/</guid>
      </item>
    
      <item>
        <title>Hadoop and HDFS setup</title>
        <description>&lt;p&gt;Hadoop, formally called Apache Hadoop, is an Apache Software Foundation project and open source software platform for scalable, distributed computing. It provides massive storage for any kind of data, enormous processing power and the ability to handle virtually limitless concurrent tasks or jobs. 
Hadoop is designed to run on a large number of machines that don’t share any memory or disks. That means you can buy a whole bunch of commodity servers, slap them in a rack, and run the Hadoop software on each one. When you want to load all of your organization’s data into Hadoop, what the software does is bust that data into pieces that it then spreads across your different servers. There’s no one place where you go to talk to all of your data; Hadoop keeps track of where the data resides. And because there are multiple copy stores, data stored on a server that goes offline or dies can be automatically replicated from a known good copy. Hadoop is ideal for situations where you want to run analytics that are deep and computationally extensive, like clustering and targeting. It applies to a myriad of markets like finance, online retail, etc.
Hadoop 2.x comes with YARN (Yet Another Resource Negotiator) for cluster resource management.
Following are the installation steps:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Check the ip of the server by running the command:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ ifconfig
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;Let’s say the ip looks somewhat like xxx.xxx.xx.xxx&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the hostname provided to the server by running nslookup on the remote machine:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ nslookup xxx.xxx.xx.xxx
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SSH to the server from your local machine:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ ssh root@xxx.xxx.xx.xxx
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You should see something like the following after entering credentials:
	root@Ubuntu-1204-precise-64-minimal ~&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Edit /etc/hostname :&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   vim /etc/hostname
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Change all instances of the current  hostname (Ubuntu-1204-precise-64-minimal) to the Hostname provided and save the file.
  If everything goes well, you should see an entry in /etc/hosts like the one shown below.
  xxx.xxx.xx.xxx 	static.xxx.xxx.xx.xxx.clients.your-server.de&lt;/p&gt;

    &lt;p&gt;If you don’t see such an entry, add it manually.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Edit &lt;b&gt;/etc/hosts&lt;/b&gt; :&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ vim /etc/hosts
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;(If its empty just enter machine name)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Again change the hostname with $ vim /etc/hostname command&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Reboot the machine:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ sudo reboot
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Download the .tar.gz file of the latest JDK from &lt;b&gt;http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.htm
  lwget –no-cookies –header “Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com” “http://download.oracle.com/otn-pub/java/jdk/7u51-b13/jdk-7u51-linux-x64.tar.gz”&lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;&lt;b&gt;UPDATE&lt;/b&gt; :&lt;/p&gt;

    &lt;p&gt;&lt;b&gt;NOTE-1&lt;/b&gt; : The version mentioned here is not the latest version of java. If you want to download the latest version, get the appropriate .tar.gz url. If you want the 7U51 version (used in the document) get the new link from archives page.&lt;/p&gt;

    &lt;p&gt;&lt;b&gt;NOTE-2&lt;/b&gt; : if the wget command used above doesn’t work, use &lt;b&gt;wget –no-check-certificate –no-cookies –header “Cookie:oraclelicense=accept-securebackup-cookie”&lt;/b&gt; instead of 
  &lt;b&gt;wget –no-cookies –header “Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com”&lt;/b&gt; on your local machine.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create a folder for the java setup on the remote machine:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ mkdir /usr/local/java
  $ cd /usr/local/java
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Copy the java setup to remote machine by running the following command on your local machine :&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ scp jdk-7u51-linux-x64.tar.gz root@148.xxx.xx.135:/usr/local/java/
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Run the following command (replace jdk-7u51 with the corresponding version name) on the remote machine:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  $ cd /usr/local/java
  $ sudo tar -xvzf jdk-7u51-linux-x64.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the name of the extracted folder (marked in bold, this may differ for you, and you need to use that particular name in the steps that follow):&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  ls -a
      .  ..  jdk1.7.0_51  jdk-7u51-linux-x64.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;(Optional) At this point, you can remove the .tar.gz file&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  rm jdk-7u51-linux-x64.tar.gz
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;$ &lt;b&gt;vim /etc/profile&lt;/b&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add the following lines at the end of the file, and save the file (Esc :wq):&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  JAVA_HOME=/usr/local/java/jdk1.7.0_51
  PATH=$PATH:$HOME/bin:$JAVA_HOME/bin
  export JAVA_HOME
  export PATH
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Inform the system where your Oracle Java JDK is located. This will tell the system that the new Oracle Java version is available for use.&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/local/java/jdk1.7.0_79/bin/java&quot; 1
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/local/java/jdk1.7.0_51/bin/javac&quot; 1
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --install &quot;/usr/bin/javaws&quot; &quot;javaws&quot; &quot;/usr/local/java/jdk1.7.0_51/bin/javaws&quot; 1
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Inform the system that Oracle Java JDK must be the default Java.&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --set java /usr/local/java/jdk1.7.0_79/bin/java
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --set javac /usr/local/java/jdk1.7.0_51/bin/javac
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  sudo update-alternatives --set javaws /usr/local/java/jdk1.7.0_51/bin/javaws
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Reload your system wide PATH &lt;b&gt;/etc/profile&lt;/b&gt; :&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode /usr/local/java  . /etc/profile
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check that java was installed correctly:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode ~  java -version
      java version &quot;1.7.0_51&quot;
      Java(TM) SE Runtime Environment (build 1.7.0_51-b13)
      Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode ~  javac -version
      javac 1.7.0_51
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install NTP (if not already installed):&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  root@hadoop-namenode ~  apt-get install ntp
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;sudo /etc/init.d/ntp reload&lt;/b&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Disable SELinux:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   apt-get install selinux-utils
   getenforce
  &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;If result is disabled or permissive, no further action is required. Otherwise&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   setenforce 0
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Disable IPTables:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   service ufw stop
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install requirements:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   sudo apt-get install rpm
   sudo apt-get install curl
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Configure remote repositories and add gpg keys:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  wget http://public-repo-1.hortonworks.com/HDP/ubuntu12/2.x/hdp.list -O /etc/apt/sources.list.d/hdp.list
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  wget http://public-repo-1.hortonworks.com/HDP/ubuntu12/2.0.6.1/hdp.list -O /etc/apt/sources.list.d/hdp.list
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   gpg --keyserver pgp.mit.edu --recv-keys B9733A7A07513CAD
   gpg -a --export 07513CAD | apt-key add -
   apt-get update
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Download companion files&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   mkdir /tmp/hadoop
   cd /tmp/hadoop
   wget http://public-repo-1.hortonworks.com/HDP/tools/2.1.5.0/hdp_manual_install_rpm_helper_files-2.1.5.695.tar.gz
   tar -zxvf hdp_manual_install_rpm_helper_files-2.0.6.101.tar.gz
   cd hdp_manual_install_rpm_helper_files-2.0.6.101/
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;cd scripts&lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
 vim usersAndGroups.sh
&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;Comment the variables (using ) corresponding to the services that are not being installed (from PIG_USER to OOZIE_USER) and save the file (Esc :wq)&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
 source usersAndGroups.sh
&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim directories.sh&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  #Set the following variables and comment the rest:

  DFS_NAME_DIR=&quot;/grid/hadoop/hdfs/nn&quot;;

  DFS_DATA_DIR=&quot;/grid/hadoop/hdfs/dn&quot;;

  FS_CHECKPOINT_DIR=&quot;/grid/hadoop/hdfs/snn&quot;;

  HDFS_LOG_DIR=&quot;/var/log/hadoop/hdfs&quot;;

  HDFS_PID_DIR=&quot;/var/run/hadoop/hdfs&quot;;

  HADOOP_CONF_DIR=&quot;/etc/hadoop/conf&quot;;

  YARN_LOCAL_DIR=&quot;/grid/hadoop/yarn/local&quot;;

  YARN_LOG_DIR=&quot;/var/log/hadoop/yarn&quot;;

  YARN_LOCAL_LOG_DIR=&quot;/grid/hadoop/yarn/logs&quot;;

  YARN_PID_DIR=&quot;/var/run/hadoop/yarn&quot;;

  MAPRED_LOG_DIR=&quot;/var/log/hadoop/mapred&quot;;

  MAPRED_PID_DIR=&quot;/var/run/hadoop/mapred&quot;;

  export HADOOP_LIBEXEC_DIR=/usr/lib/hadoop/libexec
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;Save the file and source it.&lt;/p&gt;

    &lt;p&gt;&lt;b&gt;source directories.sh&lt;/b&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim ~/hadoopVariables.sh&lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;#Add the following&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; !/bin/sh

 #Hadoop Users and Groups
 #User which will own the HDFS services.
 HDFS_USER=hdfs ;

 #User which will own the YARN services.
 YARN_USER=yarn ;

 #User which will own the MapReduce services.
 MAPRED_USER=mapred ;

 #A common group shared by services.
 HADOOP_GROUP=hadoop ;

 #Hadoop Service - HDFS
 #Space separated list of directories where NameNode will store file system image. For example, /grid/hadoop/hdfs/nn /grid1/hadoop/hdfs/nn

 DFS_NAME_DIR=&quot;/grid/hadoop/hdfs/nn&quot;;

 #Space separated list of directories where DataNodes will store the blocks. For example, /grid/hadoop/hdfs/dn /grid1/hadoop/hdfs/dn /grid2/hadoop/hdfs/dn

 DFS_DATA_DIR=&quot;/grid/hadoop/hdfs/dn&quot;;

 #Space separated list of directories where SecondaryNameNode will store checkpoint image. For example, /grid/hadoop/hdfs/snn /grid1/hadoop/hdfs/snn /grid2/hadoop/hdfs/snn

 FS_CHECKPOINT_DIR=&quot;/grid/hadoop/hdfs/snn&quot;;

 #Directory to store the HDFS logs.
 HDFS_LOG_DIR=&quot;/var/log/hadoop/hdfs&quot;;

 #Directory to store the HDFS process ID.
 HDFS_PID_DIR=&quot;/var/run/hadoop/hdfs&quot;;

 #Directory to store the Hadoop configuration files.
 HADOOP_CONF_DIR=&quot;/etc/hadoop/conf&quot;;

 #Hadoop Service - YARN 
 #Space separated list of directories where YARN will store temporary data. For example, /grid/hadoop/yarn/local /grid1/hadoop/yarn/local /grid2/hadoop/yarn/local

 YARN_LOCAL_DIR=&quot;/grid/hadoop/yarn/local&quot;;

 #Directory to store the YARN logs.
 YARN_LOG_DIR=&quot;/var/log/hadoop/yarn&quot;; 

 #Space separated list of directories where YARN will store container log data. For example, /grid/hadoop/yarn/logs /grid1/hadoop/yarn/logs /grid2/hadoop/yarn/logs

 YARN_LOCAL_LOG_DIR=&quot;/grid/hadoop/yarn/logs&quot;;

 #Directory to store the YARN process ID.
 YARN_PID_DIR=&quot;/var/run/hadoop/yarn&quot;;

 #Hadoop Service - MAPREDUCE
 #Directory to store the MapReduce daemon logs.
 MAPRED_LOG_DIR=&quot;/var/log/hadoop/mapred&quot;;

 #Directory to store the mapreduce jobhistory process ID.
 MAPRED_PID_DIR=&quot;/var/run/hadoop/mapred&quot;;

 export HADOOP_LIBEXEC_DIR=/usr/lib/hadoop/libexec
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;chmod +x hadoopVariables.sh&lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   source hadoopVariables.sh
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  python yarn-utils.py -c 6 -m 128 -d 1 -k False
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;Replace 6 by no.of cores, 128 by no. of gigabytes of RAM and 1 by no. of disks.Save the ouput for use in step 42 (yarn-site.xml)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;umask&lt;/b&gt;
  0022&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  sudo apt-get install openssh-server
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install hadoop core services:&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   sudo apt-get install hadoop hadoop-hdfs libhdfs0 libhdfs0-dev hadoop-yarn hadoop-mapreduce hadoop-client openssl
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install compression libraries&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  apt-get install libsnappy1 libsnappy-dev
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  ln -sf /usr/lib64/libsnappy.so /usr/lib/hadoop/lib/native/.
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  apt-get install liblzo2-2 liblzo2-dev hadoop-lzo
 &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create the NameNode Directories (ONLY on NameNode):&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  mkdir -p $DFS_NAME_DIR;
  chown -R $HDFS_USER:$HADOOP_GROUP $DFS_NAME_DIR;
  chmod -R 755 $DFS_NAME_DIR;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create the Secondary NameNode Directories (ONLY on SecondaryNameNode):&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  mkdir -p $FS_CHECKPOINT_DIR;
  chown -R $HDFS_USER:$HADOOP_GROUP $FS_CHECKPOINT_DIR;
  chmod -R 755 $FS_CHECKPOINT_DIR;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ONLY on all the datanodes :&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  mkdir -p $DFS_DATA_DIR;
  chown -R $HDFS_USER:$HADOOP_GROUP $DFS_DATA_DIR;
  chmod -R 750 $DFS_DATA_DIR;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ONLY on ResourceManager and all datanodes :&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  mkdir -p $YARN_LOCAL_DIR;
  chown -R $YARN_USER:$HADOOP_GROUP $YARN_LOCAL_DIR;
  chmod -R 755 $YARN_LOCAL_DIR;
  mkdir -p $YARN_LOCAL_LOG_DIR;
  chown -R $YARN_USER:$HADOOP_GROUP $YARN_LOCAL_LOG_DIR;
  chmod -R 755 $YARN_LOCAL_LOG_DIR;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;On all nodes:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  mkdir -p $HDFS_LOG_DIR;
  chown -R $HDFS_USER:$HADOOP_GROUP $HDFS_LOG_DIR;
  chmod -R 755 $HDFS_LOG_DIR;
  mkdir -p $YARN_LOG_DIR;
  chown -R $YARN_USER:$HADOOP_GROUP $YARN_LOG_DIR;
  chmod -R 755 $YARN_LOG_DIR;
  mkdir -p $HDFS_PID_DIR;
  chown -R $HDFS_USER:$HADOOP_GROUP $HDFS_PID_DIR;
  chmod -R 755 $HDFS_PID_DIR;
  mkdir -p $YARN_PID_DIR;
  chown -R $YARN_USER:$HADOOP_GROUP $YARN_PID_DIR;
  chmod -R 755 $YARN_PID_DIR;
  mkdir -p $MAPRED_LOG_DIR;
  chown -R $MAPRED_USER:$HADOOP_GROUP $MAPRED_LOG_DIR;
  chmod -R 755 $MAPRED_LOG_DIR;
  mkdir -p $MAPRED_PID_DIR;
  chown -R $MAPRED_USER:$HADOOP_GROUP $MAPRED_PID_DIR;
  chmod -R 755 $MAPRED_PID_DIR;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;cd /tmp/hadoop/hdp_manual_install_rpm_helper_files-2.0.6.101/configuration_files/core_hadoop&lt;/b&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim core-site.xml&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &amp;lt;!--Make the following change--&amp;gt;
 	&amp;lt;property&amp;gt;
  	&amp;lt;name&amp;gt;fs.defaultFS&amp;lt;/name&amp;gt;
 	&amp;lt;value&amp;gt;hdfs://static.xxx.xxx.xx.xxx.clients.your-server.de:8020&amp;lt;/value&amp;gt;
 	&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim hdfs-site.xml&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &amp;lt;!--Make the following changes--&amp;gt;
  &amp;lt;property&amp;gt;
  	&amp;lt;name&amp;gt;dfs.datanode.data.dir&amp;lt;/name&amp;gt;
  	&amp;lt;value&amp;gt;file:///grid/hadoop/hdfs/dn&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
 	&amp;lt;name&amp;gt;dfs.namenode.http-address&amp;lt;/name&amp;gt;
  	&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:50070&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
  	&amp;lt;name&amp;gt;dfs.namenode.name.dir&amp;lt;/name&amp;gt;
  	&amp;lt;value&amp;gt;file:///grid/hadoop/hdfs/nn&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
  	&amp;lt;name&amp;gt;dfs.namenode.checkpoint.dir&amp;lt;/name&amp;gt;
  	&amp;lt;value&amp;gt;/grid/hadoop/hdfs/snn&amp;lt;/value&amp;gt;
  	&amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
  	&amp;lt;name&amp;gt;dfs.namenode.secondary.http-address&amp;lt;/name&amp;gt;
  	&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:50090&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim yarn-site.xml&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &amp;lt;!--Make the following changes--&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.nodemanager.local-dirs&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;/grid/hadoop/yarn/local&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.log.server.url&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;http://static.xxx.xxx.xx.xxx.clients.your-server.de:19888/jobhistory/logs&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.admin.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:8141&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.scheduler.maximum-allocation-mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;105984&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.nodemanager.resource.memory-mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;105984&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.nodemanager.log-dirs&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;/grid/hadoop/yarn/logs&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.scheduler.class&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.resource-tracker.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:8025&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.scheduler.minimum-allocation-mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.webapp.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:8088&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:8050&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;yarn.resourcemanager.scheduler.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xxx.xx.xxx.clients.your-server.de:8030&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim mapred-site.xml&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &amp;lt;!--Make the following changes--&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.jobhistory.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xx.xxx.xxx.clients.your-server.de:10020&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.cluster.reduce.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapred.child.java.opts&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;-Xmx28262m&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapred.cluster.max.reduce.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapred.cluster.max.map.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.jobhistory.webapp.address&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;static.xxx.xx.xxx.xxx.clients.your-server.de:19888&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.map.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.task.io.sort.mb&amp;lt;/name&amp;gt; 
  		&amp;lt;!--Please keep this as 1024 --&amp;gt;
  		&amp;lt;value&amp;gt;1024&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapred.cluster.map.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
  	&amp;lt;property&amp;gt;
  		&amp;lt;name&amp;gt;mapreduce.reduce.memory.mb&amp;lt;/name&amp;gt;
  		&amp;lt;value&amp;gt;35328&amp;lt;/value&amp;gt;
	&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Copy the configuration files to &lt;b&gt;/etc/hadoop/conf/&lt;/b&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim /etc/hadoop/conf/hadoop-env.sh&lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;Comment the line containing export JAVA_HOME&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;b&gt;vim /etc/rc.local&lt;/b&gt;&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  Add the following lines (after the first block of comments):
  mkdir /var/run/hadoop
  chown -R hdfs:hadoop /var/run/hadoop
  chmod -R 755 /var/run/hadoop

  mkdir /var/run/hadoop-yarn
  chown -R yarn:hadoop /var/run/hadoop-yarn
  chmod -R 755 /var/run/hadoop-yarn

  mkdir /var/run/hadoop-mapreduce
  chown -R mapred:hadoop /var/run/hadoop-mapreduce
  chmod -R 755 /var/run/hadoop-mapreduce
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;(Need to use distributed cache) Copy all the lib jars from &lt;b&gt;/home/hadoop/rocq/spahadoop_backend/lib&lt;/b&gt; to &lt;b&gt;/usr/lib/hadoop-mapreduce/&lt;/b&gt;
  ** add &lt;b&gt;/usr/lib/rocq&lt;/b&gt; folder &amp;amp; &lt;b&gt;/usr/lib/hadoop-mapreduce/&lt;/b&gt; folder jars while adding new datanodes or any other node to the cluster&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ONLY on the namenode, format and start the namenode&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $HDFS_USER
hdfs namenode -format
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   /usr/lib/hadoop/sbin/hadoop-daemon.sh --config /etc/hadoop/conf start namenode
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;If the above commands execute properly, then the namenode setup is working.
  When namenode is running, see : http://static.136.xx.xxx.148.clients.your-server.de:50070/&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Execute these commands on the SecondaryNameNode:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $HDFS_USER
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   /usr/lib/hadoop/sbin/hadoop-daemon.sh --config /etc/hadoop/conf start secondarynamenode
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Execute these commands on all DataNodes:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $HDFS_USER
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   /usr/lib/hadoop/sbin/hadoop-daemon.sh --config /etc/hadoop/conf start datanode
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Create hdfs user directory in HDFS:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $HDFS_USER
hadoop fs -mkdir -p /user/hdfs
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;Try copying a file into HDFS and listing that file:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $HDFS_USER
hadoop fs -copyFromLocal /etc/passwd passwd
hadoop fs -ls 
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;If  you see the file listed, then it has been created properly.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Start YARN
  Execute these commands from the ResourceManager server:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $YARN_USER
export HADOOP_LIBEXEC_DIR=/usr/lib/hadoop/libexec
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
  /usr/lib/hadoop-yarn/sbin/yarn-daemon.sh --config /etc/hadoop/conf start resourcemanager
 &lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;Execute these commands from all NodeManager nodes:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su $YARN_USER
export HADOOP_LIBEXEC_DIR=/usr/lib/hadoop/libexec
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;

    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;
   /usr/lib/hadoop-yarn/sbin/yarn-daemon.sh --config /etc/hadoop/conf start nodemanager
  &lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Start MapReduce JobHistory Server (on the namenode):
  We need to do this step on data-nodes before starting node manager, else it shows error on health check and shows unhealthy nodes.&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chown -R root:hadoop /usr/lib/hadoop-yarn/bin/container-executor
chmod -R 6050 /usr/lib/hadoop-yarn/bin/container-executor
	
$ su hdfs
$ hadoop fs -mkdir -p /mr-history/tmp
$ hadoop fs -chmod -R 1777 /mr-history/tmp
$ hadoop fs -mkdir -p /mr-history/done
$ hadoop fs -chmod -R 1777 /mr-history/done
$ hadoop fs -chown -R mapred:hdfs /mr-history
$ hadoop fs -mkdir -p /app-logs
$ hadoop fs -chmod -R 1777 /app-logs 
$ hadoop fs -chown yarn /app-logs
$ exit


$ su mapred
$ export HADOOP_LIBEXEC_DIR=/usr/lib/hadoop/libexec/ 
$ /usr/lib/hadoop-mapreduce/sbin/mr-jobhistory-daemon.sh --config /etc/hadoop/conf start historyserver
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Browse the Recource Manager :&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://static.136.xx.xxx.148.clients.your-server.de:8088/
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Start a sample MapReduce Job:&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su hdfs
$ /usr/lib/hadoop/bin/hadoop jar /usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples-2.2.0.2.0.6.0-101.jar teragen 10000 /tmp/teragenout 
$ /usr/lib/hadoop/bin/hadoop jar /usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples-2.2.0.2.0.6.0-76.jar terasort /tmp/teragenout /tmp/terasortout
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If there are no errors, then the setup is working!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;For stopping follow this order&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Job History Server
NodeManager
ResourceManager
DataNodes
SecondaryNameNode
NameNode
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 15 Jan 2016 14:53:44 +0530</pubDate>
        <link>//hadoop/hdfs/2016/01/15/hadoop_setup/</link>
        <guid isPermaLink="true">//hadoop/hdfs/2016/01/15/hadoop_setup/</guid>
      </item>
    
  </channel>
</rss>
